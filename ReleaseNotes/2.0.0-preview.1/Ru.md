# Что изменилось в Minecraft Holy Client *2.0.0-preview.1*?

## Основные исправления

Этот раздел содержит следующие подразделы:

- [Исправление багов](#исправление-багов)
- [Производительность](#производительность)
- [Стресс-тест](#стресс-тест)
- [Установщик](#установщик)

### Исправление багов

#### Счетчик ботов

Теперь счетчик количества ботов онлайн показывает значение корректно.

#### Рестарт ботов

Раньше боты могли не перезапуститься, если не удалось подключится к прокси или боты кикнуло с сервера, или во время работы произошла внутренняя ошибка. Теперь бот корректно перезапускается.

#### Socks5 прокси

Раньше боты не могли подключатся к socks5 прокси из-за ошибки в реализации протокола. Сейчас боты могу подключаться к socks5 прокси.

### Производительность


Производительность является важнейшим аспектом функционала Minecraft Holy Client, и каждая его особенность разрабатывается с учетом максимальной эффективности. Дополнительно, в Minecraft Holy Client внедрены следующие усовершенствования, заточенные исключительно под повышение производительности:

- Радикально уменьшено потребление оперативной памяти. До этого на каждый тестовый бот создавались экземпляры MinecraftPrimitiveReader и MinecraftPrimitiveWriter, а также выделялась память при получении каждого нового пакета от сервера. Теперь мы активно используем пул объектов для повторного использования MinecraftPrimitiveReader и MinecraftPrimitiveWriter.

- Увеличена пропускная способность. Теперь боты в режиме Play разделяют процессы чтения данных из сети и их синтаксического анализа на два потока, используя библиотеку System.IO.Pipelines. Это привело к увеличению пропускной способности на 10%.

- Оптимизированы прокси-сервера. QuickProxyNet теперь максимально эффективно управляет памятью при подключении к прокси-серверам Socks4, Socks4a и Socks5.

### Стресс-тест


#### Прокси по умолчанию

Теперь в стресс-тесте используются прокси по умолчанию, если пользователь не добавил свои прокси. Эта возможность была добавлена на основе [голосования в Discord](https://discord.com/channels/1166051202367246396/1166055869566419085/1172042445928812574).

#### Плагины по умолчанию

Ранее, пользователи имели возможность создавать поведение для стресс-тестов с использованием плагинов. Однако, осознавая, что эта опция могла показаться сложной для обычных пользователей, мы внесли улучшения.
Теперь в системе представлен новый плагин по умолчанию, который упрощает процесс запуска стресс-тестов и делает его доступным для всех. Но стоит отметить, что плагин по умолчанию пока всего лишь запускает простых ботов, которые регистрируются на сервер с помощью /reg \<pass\> \<pass\> и сразу начинают спамить. В будущем функционал плагина будет дополнен.

#### Загрузка прокси из буфера обмена и URL

Раньше можно было загружать прокси только из файла, теперь импортировать прокси можно тремя способами:
- Файл
- URL
- Ручной ввод списка прокси

#### Отключение прокси

В основных настройках прокси добавлена возможность отключать использование прокси; боты будут использовать IP пользователя.

#### Дизайн окна со стресс-тест процессом

B окне со стресс-тест процессом убран график количества ботов онлайн, а также подключения в секунду. На место него поставлен логгер.
Показатели ботов онлайн и подключения в секунду перенесены наверх, также добавлен показатель пиковых подключений в секунду.

### Установщик

Теперь программа стала полностью кроссплатформенной и портативной, поэтому установщик ClickOnce на Windows больше не поддерживается.
