# Что изменилось в Minecraft Holy Client *2.0.0-preview.1*?

## Основные исправления

Этот раздел содержит следующие подразделы:

- [Исправление багов](#исправление-багов)
- [Производительность](#производительность)
- [Стресс-тест](#стресс-тест)
- [Установщик](#установщик)

### Исправление багов

#### Счетчик ботов

Была маленькая проблема, где в стресс-тест процессе счетчик количества ботов зашкаливал, когда как в реальности ботов было меньше или не было совсем. Теперь счетчик количества ботов онлайн показывает значение корректно.

#### Рестарт ботов

В предшествующих версиях боты могли не перезапускаться при возникновении ситуаций, таких как неудачная попытка подключения к прокси, выход ботов из сервера или внутренняя ошибка в процессе работы. В настоящее время бот корректно выполняет процесс перезапуска в таких сценариях.

#### Socks5 прокси

Раньше боты не могли подключатся к socks5 прокси из-за ошибки в реализации протокола. Сейчас боты могут подключаться к socks5 прокси.

### Производительность


Производительность является важнейшим аспектом функционала Minecraft Holy Client, и каждая его особенность разрабатывается с учетом максимальной эффективности. Дополнительно, в Minecraft Holy Client внедрены следующие усовершенствования, заточенные исключительно под повышение производительности:

- Радикально уменьшено потребление оперативной памяти. До этого на каждый тестовый бот создавались экземпляры MinecraftPrimitiveReader и MinecraftPrimitiveWriter, а также выделялась память при получении каждого нового пакета от сервера. Теперь мы активно используем пул объектов для повторного использования MinecraftPrimitiveReader и MinecraftPrimitiveWriter.

- Увеличена пропускная способность. Теперь боты в режиме Play разделяют процессы чтения данных из сети и их синтаксического анализа на два потока, используя библиотеку System.IO.Pipelines. Это привело к увеличению пропускной способности на 10%.

- Оптимизированы прокси-сервера. QuickProxyNet теперь максимально эффективно управляет памятью при подключении к прокси-серверам Socks4, Socks4a и Socks5.

### Стресс-тест


#### Прокси по умолчанию

Теперь в стресс-тесте используются прокси по умолчанию, если пользователь не добавил свои прокси. Эта возможность была добавлена на основе [голосования в Discord](https://discord.com/channels/1166051202367246396/1166055869566419085/1172042445928812574).

#### Плагины по умолчанию

Ранее существовала опция создания поведения для стресс-тестов с использованием плагинов, что, возможно, могло показаться сложным для обычных пользователей.
Теперь в системе представлен новый плагин по умолчанию, который упрощает процесс запуска стресс-тестов и делает его доступным для всех. Но стоит отметить, что плагин по умолчанию пока всего лишь запускает простых ботов, которые регистрируются на сервер с помощью /reg \<pass\> \<pass\> и сразу начинают спамить. В будущем функционал плагина будет дополнен.

#### Загрузка прокси из буфера обмена и URL

Раньше можно было загружать прокси только из файла, теперь импортировать прокси можно тремя способами:
- Файл
- URL
- Ручной ввод списка прокси

#### Отключение прокси

В основных настройках прокси добавлена возможность отключать использование прокси; боты будут использовать IP пользователя.

#### Дизайн окна со стресс-тест процессом

B окне со стресс-тест процессом убран график количества ботов онлайн, а также подключения в секунду. На место него поставлен логгер.
Показатели ботов онлайн и подключения в секунду перенесены наверх, также добавлен показатель пиковых подключений в секунду.

### Установщик

Теперь программа стала полностью кроссплатформенной и портативной, поэтому установщик ClickOnce на Windows больше не поддерживается.
